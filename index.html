<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integração online</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mediaQuryStyle.css">
    <!-- Ícone padrão (favicon) -->
    <link rel="shortcut icon" href="img/sapamega.png" type="image/x-icon">
  
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
  
    <!-- Android Manifest -->
    <link rel="manifest" href="/manifest.json">

  
    <!-- Windows Tiles -->
    <meta name="application-name" content="Integração on-line">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-TileImage" content="/img/sapamega.png">
    
    <!-- Fallback para Windows 10 e navegadores modernos -->
    <link rel="shortcut icon" href="/img/sapamega.png">
    <link rel="icon" sizes="192x192" href="/img/sapamega.png">
  </head>
  
  <body>
    <!-- <div id="logo"><img src="img/sapamega.png" id="LogoSapaMega" alt=""></div> -->
    <!--  -->
    <section id="step1">
      <div>
        <img src="img/sapamega.png" id="LogoSapaMegaStep1" alt="">
        <h1>INTEGRAÇÃO <BR>
           ONLINE</h1>
      </div>
          <button class="ButtonStyleBlue" onclick="closetep1()" > COMEÇAR </button>



      </section>
        <div id="white"></div>
        <div id="white2"></div>

      <!-- section loading -->
        <section id="loading" class="startHidden" >
<div class='body'>
  <span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </span>
  <div class='base'>
    <span></span>
    <div class='face'></div>
  </div>
</div>
<div class='longfazers'>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>
<br>
<br>
<br>
<br>
<h1 id="#h1" >CARREGANDO</h1>
    <div class="background">
      <div class="blob red"></div>
      <div class="blob blue"></div>

    </div>
        </section>

        <!--  -->
        <section id="step2">
          <div id="imgsAuthForms">
            
            <div id="container1">
              <p>INTEGRAÇÃO <br> ONLINE</p>
              <img src="img/sapamega.png" alt="">
            </div>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#064267" fill-opacity="1" d="M0,32L60,58.7C120,85,240,139,360,181.3C480,224,600,256,720,229.3C840,203,960,117,1080,112C1200,107,1320,181,1380,218.7L1440,256L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path></svg>
    
      <div id="login">
        <!-- TEM CONTA -->
        <div id="haveAccount">

          <div id="authFormDiv">
            <h1>BEM VINDO AO GRUPO <br> SAPA MEGATECH</h1>
            <form id="authForm" action="">
              <label for="email"></label>
              <input type="email" id="emailUser" name="email" placeholder="seu_email@exemplo.com">

              <label for="password"></label>
              <input type="password" id="passwordUser" name="password">
            </form>
            <p id="ResponderAuth" class="startHidden">as senhas não são iguais</p>
            <!-- <button CLASS="ButtonStyleBlue" onclick="showUserContent()">CONTINUAR</button> -->
            <button CLASS="ButtonStyleBlue startHidden" id="redefinirSenha" onclick="sendPasswordResetEmail()">REDEFINIR SENHA</button>
            <button CLASS="ButtonStyleBlue" onclick="loginWithPassword()">CONTINUAR</button>
            <div id="loginWithOthers" onclick="signInWithGoogle()">
              <p>OU FAÇA LOGIN COM</p>
              <img src="img/logoGoogle.png" alt="">
            </div>
            <div id="containerToggle">
              <p>NÃO TEM CADASTRO?</p>
              <button CLASS="ButtonStyleBlue" onclick="toggleToRegister()">CADASTRAR</button>
            </div>
          </div>
        </div>
        <!-- FIM DO TEM CONTA -->

        <!-- COMEÇO DO NAO TEM CONTA -->
        <div id="dontHaveAccount" class="startHidden">
          <div id="AuthFormNewUser">
            <div id="createWithOthers" onclick="signInWithGoogle()">
              <p>CADASTRE-SE COM</p>
              <div>

                <img src="img/logoGoogle.png" alt="">
              </div>
            </div>
            <p>OU COMECE COM SEUS DADOS</p>
            <form id="authFormNew" action="">
            <label for="emailNew"></label>
            <input type="email" id="emailNewUser" name="emailNew" placeholder="seu_email@exemplo.com">

            <label for="passwordNew"></label>
            <input type="password" id="passwordNewUser" name="passwordNew" placeholder="Sua senha">

          </form>
          <p id="ResponderAuthNewUser" class="startHidden">as senhas não são iguais</p>
          <button CLASS="ButtonStyleBlue" onclick="NewUser()">CRIAR CONTA</button>
        
          <!-- <button CLASS="ButtonStyleBlue" onclick="showUserContent()">CONTINUAR</button> -->

          <div id="containerToggleNewUser">
            <p>JÁ TEM CADASTRO?</p>
            <button CLASS="ButtonStyleBlue" onclick="toggleToAccess()">LOGIN</button>
          </div>
          </div>
        </div>
        <!-- FIM DO NÃO TEM CONTA -->

      </div>
    </section>

<!--  -->

    <section id="step3" class="startHidden">
      <div id="coletaDados">
        <h1 id="h1ColetaDados">Vamos começar pelos seus dados!</h1>
        <form action="">
          <label for="Nome">Seu nome completo:</label>
          <input type="text" name="Nome" class="InputClass" placeholder="Jhon Doe Rogerio " required>

          <label for="cargo">Seu cargo</label>
          <select name="cargo" id="cargoUser" class="InputClass" required>
            <option value="aprendiz">aprendiz</option>
            <option value="estagiário">estagiário </option>
            <option value="operador">Operador</option>
            <option value= "analista">Analista</option>
            <option value="supervisor">Supervisor</option>
            <option value="Gerente">diretor</option>

            
          </select>

          <label for="Turno">Seu turno</label>
          <select name="Turno" id="turnoUser" class="InputClass" required>
            <option value="1">1° turno</option>
            <option value="2">2° turno</option>
            <option value="3">3° turno</option>
            <option value="ADM">ADM</option>
          </select>

          <label for="área">Sua área</label>
          <select name="área" id="areaUser" class="InputClass" required>
            <option value="produção">Produção</option>
            <option value="logistica">Logistica</option>
            <option value="T.I.">T.I.</option>
            <option value="Compras">Compras</option>
            <option value="Controladoria">Controladoria</option>
            <option value="Direção">Direção</option>
            <option value="Engenharia de Processos">Engenharia de processos</option>
            <option value="Engenharia de projetos">Engenharia de projetos</option>
            <option value="Ferramentaria">Ferramentaria</option>
            <option value="Financeiro">Financeiro</option>
            <option value="Fiscal">Fiscal</option>
            <option value="Manutenção">Manutenção</option>
            <option value="Qualidade">Qualidade</option>
            <option value="Recursos humanos">Recursos humanos</option>
            <option value="Segurança e meio ambiente">Segurança e meio ambiente</option>
          </select>

          <label for="admissao">Data de admissão</label>
          <input type="date" name="admissao" id="admissaoUser" class="InputClass" required>
        </form>
        <div id="containterButtonColetaDados">
          <!-- <button class="ButtonStyleBlue" onclick="showstep4()">avançar</button> -->
          <button class="ButtonStyleBlue" onclick="updateProfile()">avançar</button>
        </div>
      </div>
    </section>

<section class="startHidden" id="updatePhoto">
  <div id="updatePhotoCss">
    <h1>ESTAMOS QUASE LÁ!</h1>
    <form id="profilePhotoForm">
      <!-- Imagem de preview já existente -->
      <img id="imagePreview"   />
      <label for="profilePhotoInput"> <p id="responderImgUpdate">AGORA É SÓ ADICIONAR SUA FOTO DE PERFIL.</p> </label>
    <input type="file" id="profilePhotoInput" accept="image/*">


    <progress id="uploadProgress" value="0" max="100" style="width: 100%; display: none;"></progress>
    <span id="uploadPercent" style="display: none;">0%</span>

    <button type="submit" class="ButtonStyleBlue" >Atualizar Foto</button>
  </form> 
  <!-- <button class="ButtonStyleBlue" onclick="closeUpdates()">Pular</button> -->
  </div>       
</section>

    <section id="step35" class="startHidden">
      <div id="divstep35">
        <div id="confirmEmail">
          <h1>AGORA CONFIRME O SEU EMAIL</h1>
          <img src="img/opgmail.png" alt="" id="segurandoEmail">
          <p>enviamos para sua caixa de entrada uma confirmação de email.</p>
          <a class="ButtonStyleBlue" href="https://mail.google.com/" target="_blank">VERIFICAR</a>
          <button CLASS="ButtonStyleBlue" onclick="signOut()">TROCAR DE CONTA</button>
        </div>
      </div>
    </section>

    <section id="step4" class="startHidden">
      <!-- section videos -->
      <div id="sectionVideos">
        <div id="listVideos">
          <h1>Aqui começa a <br>
          sua jornada!</h1>

          <div id="1" class="allVideos" onclick="showQuests1()">
            <img class="imgCapa" src="img/capaClientes.png" alt="">

          </div>

          <div id="1" class="allVideos" onclick="showQuests1()">
            <img class="imgCapa" src="img/capaClientes.png" alt="">

          </div>
          
          <div id="1" class="allVideos" onclick="showQuests1()">
            <img class="imgCapa" src="img/capaClientes.png" alt="">

          </div>

          <div id="1" class="allVideos" onclick="showQuests1()">
            <img class="imgCapa" src="img/capaClientes.png" alt="">

          </div>

          <div id="1" class="allVideos" onclick="showQuests1()">
            <img class="imgCapa" src="img/capaClientes.png" alt="">

          </div>

          <!-- <div id="soParaDarVolume" class="containerIframe"></div> -->

        </div>
      </div>

      <div id="showQuests" class="startHidden">
        <div id="containerVideosPerguntas">
        <div class="containerIframe">
          <!-- <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
              src="https://www.canva.com/design/DAGipkCx19U/_ouKWVFWx63Y9IiBT11AGg/watch?embed" allowfullscreen="allowfullscreen" allow="fullscreen">
          </iframe> -->
          </div>

          <div id="ContainerPerguntas">
              <h2>Somos reconhecidos como melhor fornecedor por qual empresa?</h2>
              <form>
                <label>
                  <input type="radio" name="pergunta1" value="1">
                  VOLKSWAGEN
                </label>
                <label>
                  <input type="radio" name="pergunta1" value="2">
                  RENAULT
                </label>
                <label>
                  <input type="radio" name="pergunta1" value="3">
                  LEAR
                </label>
                <label>
                  <input type="radio" name="pergunta1" value="4">
                  ADIENT
                </label>
              </form>
                <button class="ButtonStyleBlue">CONLCUIR</button>
          </div>
          </div>
      </div>
      <div id="certificadoContentUser"></div>
      <div id="popupSucesso" class="startHidden">
        <div >
        <div class="popup-content">
        <h2 class="h2Popup">Parabéns!</h2>
          <p class="pPopup">Você concluiu esse vídeo com sucesso.</p>
          <img src="img/videoconcluido.png" id="imgVideoconcluido" alt="">
          <button onclick="fecharPopupConcluido()" class="ButtonStyleBlue">Fechar</button>
        </div>
        </div>
      </div>
      <div id="popupSemSucesso" class="startHidden">
        <div>
        <div class="popup-content">
        <h2 class="h2Popup">OPS... NÃO FOI DESSA VEZ</h2>
          <p class="pPopup">ESSA NÃO É A RESPOSTA CORRETA. MAS NAO SE PREOCUPE, TENTE MAIS UMA VEZ!</p>
          <img src="img/naoconcluido.png" id="imgVideoconcluido" alt="">
          <button onclick="fecharPopupNaoConcluido()" class="ButtonStyleBlue"> TENTAR NOVAMENTE</button>
        </div>
        </div>
      </div>
      <!-- fim section videos -->
      <div id="sectionConcluded" class="startHidden">
          <div id="listConcluded">
            <h1>Vídeos Concluídos</h1>
              <div id="1" class="allConcludedVideos" onclick="showQuests1()"> 
                <img src="" frameborder="0"></img>      <!-- aqui fica o a capa do video  -->
                <p id="1p">Clientes parceiros</p>      <!-- aqui fica o nome do video  -->
              </div>
          </div>
      </div>
      <!--  -->
      <div id="userProfile" class="startHidden">
        <div id="Profile">
          <div id="settings">
            <svg onclick="editProfile()" xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 16 16">
              <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1zm3.63-4.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
            </svg>
          </div>
          <img class="imgUser" alt="User Image" id="userImg">
          <h1 id="userName">Thiago Bassete</h1>
        
          <div id="infoEmail">
            <h2 id="userEmail2">taraujo438.ta@gmail.com</h2>
            <svg xmlns="http://www.w3.org/2000/svg" class="check-icon" viewBox="0 0 16 16">
              <path d="m10.273 2.513-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911z"/>
            </svg>
          </div>
        
          <h2 id="cargoUser2"></h2>
        
          <div class="infoGerais">
            <p class="label">TURNO:</p>
            <p id="turnoUser2"></p>
          </div>
          <div class="infoGerais">
            <p class="label">ÁREA:</p>
            <p id="areaUser2"></p>
          </div>
          <div class="infoGerais">
            <p class="label">ADMISSÃO:</p>
            <p id="admissaoUser2"></p>
          </div>
          <button CLASS="ButtonStyleBlue" onclick="signOut()">logout</button>
          <button class="ButtonStyleMinimalist startHidden" id="buttonShowUsers" onclick="ShowusersList()"> mostrar lista de usuarios</button>
          <button class="ButtonStyleMinimalist startHidden" id="buttonShowPostarVideos" onclick="ShowFormPostarVideosPerguntas()">Postar novo video e perguntas</button>
        </div>
      </div>
      
      <div id="FormPostarVideosPerguntas" class="startHidden">
        <form id="todoForm" onsubmit="event.preventDefault(); adicionarVideosPerguntas();">
          <h2>Adicionar Novo Vídeo</h2>
        
          
          <label for="file">Foto da Capa</label>
          <input type="file" name="file" id="file" accept="image/*" required />
          <img id="previewImage" style="display: none;" />
          
          <label for="nomeVideo">Nome do vídeo</label>
          <input type="text" name="nomeVideo" id="nomeVideo" required />

          <label for="pergunta">Pergunta</label>
          <input type="text" name="pergunta" id="pergunta" required />

          <label for="linkVideo">Link do Vídeo</label>
          <input type="url" name="linkVideo" id="linkVideo" required />
        
          <fieldset id="fieldsetForm">
            <legend>Respostas</legend>
        
            <label>
              <input type="radio" name="respostaCorreta" value="1" required />
              <input type="text" name="resposta1" id="resposta1" placeholder="Resposta 1" required />
            </label>
        
            <label>
              <input type="radio" name="respostaCorreta" value="2" />
              <input type="text" name="resposta2" id="resposta2" placeholder="Resposta 2" required />
            </label>
        
            <label>
              <input type="radio" name="respostaCorreta" value="3" />
              <input type="text" name="resposta3" id="resposta3" placeholder="Resposta 3" required />
            </label>
        
            <label>
              <input type="radio" name="respostaCorreta" value="4" />
              <input type="text" name="resposta4" id="resposta4" placeholder="Resposta 4" required />
            </label>
          </fieldset>
        
          
          <button type="submit" class="ButtonStyleBlue" >Adicionar Vídeo</button>
        </form>
      </div>
      <!-- section mostra users -->
       <section id="usersListCss" class="startHidden">
<div id="usersListCssb">
  <div id="filtersforShowUsers">
    <button class="ButtonStyleMinimalist" onclick="listarTodosUsuarios('tempo')">filtrar por tempo de casa</button>
    <button class="ButtonStyleMinimalist" onclick="listarTodosUsuarios('concluidos')">todos que concluiram os videos</button>
    <button class="ButtonStyleMinimalist" onclick="listarTodosUsuarios('naoConcluidos')">todos que nao concluiram os videos</button>
  </div>

  <div id="usersContainer">
    <p>🔍 Nenhum usuário carregado ainda...</p>
  </div>
</div>

       </section>
      <!-- fim da section mostra users -->  

      <!-- section controls -->
      <div id="containerMenuControls">
        <div id="menuControls">
          <div id="play" class="iconsControls" onclick="showVideos()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
              <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445"/>
            </svg>
          </div>
          <div id="concluded" class="iconsControls " onclick="showConcluded()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
              <path d="m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"/>
            </svg>
          </div>
          <div id="profileButton" class="iconsControls " onclick="showProfile()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
              <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
            </svg>
          </div>
        </div>
      </div>

    </section>


    <div class="background">
      <div class="blob red"></div>
      <div class="blob blue"></div>

    </div>

    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-storage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="js/firebase.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/todo.js"></script>
    <script>
const list = document.getElementById('listVideos');
const videos = list.querySelectorAll('.allVideos');

list.addEventListener('scroll', () => {
  const listRect = list.getBoundingClientRect();
  const centerY = listRect.top + list.clientHeight / 2;

  videos.forEach(video => {
    const rect = video.getBoundingClientRect();
    const videoCenter = rect.top + rect.height / 2;
    const distance = Math.abs(videoCenter - centerY);
    const maxDistance = list.clientHeight / 2;

    const norm = Math.min(distance / maxDistance, 1);
    const scale = 1.0 - norm * 1.0;
    const gray = 5 + norm * 100;

    video.style.transform = `scale(${scale})`;
    video.style.webkitTransform = `scale(${scale})`;
    video.style.filter = `grayscale(${gray}%)`;
    video.style.webkitFilter = `grayscale(${gray}%)`;
  });
});

// Forçar uma execução inicial
list.dispatchEvent(new Event('scroll'));
setTimeout(() => {
  list.scrollTop += 10;
  setTimeout(() => {
    list.scrollTop -= 10;
  }, 50);
}, 50);

    </script>
  </body>
</html>